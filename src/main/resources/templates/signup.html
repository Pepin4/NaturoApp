<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr"
      xmlns:th="http://www.thymeleaf.org">

<head>
	  <!-- 
		  _____ _                         
		 / ____(_)                        
		| (___  _  __ _ _ __  _   _ _ __  
		 \___ \| |/ _` | '_ \| | | | '_ \ 
		 ____) | | (_| | | | | |_| | |_) |
		|_____/|_|\__, |_| |_|\__,_| .__/ 
		           __/ |           | |    
		          |___/            |_|    
		                           
	  -->
    <meta charset="UTF-8">
    <title>Inscription</title>
	
	<!-- Lien vers l'icône de la page -->
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon.png">

	<!-- Liens vers des polices externes pour personnaliser la typographie -->
	<!-- La police Oswald est utilisée pour les titres -->
	<link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
	<!-- La police Lato est utilisée pour le corps du texte -->
	<link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">

	<!-- Inclusion de Font Awesome pour l'utilisation d'icônes -->
	<script src="https://kit.fontawesome.com/a076d05399.js"></script>

	<!-- Lien vers la feuille de style Bootstrap, qui permet de créer des pages web réactives -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<!-- Lien vers le script JavaScript de Bootstrap, nécessaire pour certaines interactions dynamiques (comme les modals, menus déroulants) -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

	<!-- Lien vers un fichier CSS personnalisé pour définir les styles propres à la page -->
	<link rel="stylesheet" type="text/css" href="/style.css">

	</head>
	<body>

	<!-- Début du contenu principal de la page -->
	<div class="container text-center">
	    <div class="contenu-page">
	        <!-- Logo de l'application, positionné en haut à gauche avec une taille spécifique -->
	        <img src="/avocat.png" style="height: 100px; width: 100px; position: absolute; top: 20px; left: 10px; margin-right: 15px;" class="fit-picture" />
	        
	        <!-- Titre principal de la page -->
	        <h1 style="margin-top: 100px;">NaturoApp : Gestion de patient</h1>
	    </div> 
	</div>

	<!-- Section de formulaire pour l'inscription -->
	<div class="container mt-5">
	    <div class="row justify-content-center">
	        <div class="col-md-6">

	            <!-- Carte d'inscription avec ombre portée pour un effet esthétique -->
	            <div class="card shadow-lg">
	                <!-- En-tête de la carte avec un fond bleu et texte blanc -->
	                <div class="card-header bg-primary text-white text-center">
	                    <h4>Inscription à NaturoApp</h4>
	                </div>
	                <div class="card-body">
	                    
						<!-- Message d'erreur si l'utilisateur existe déjà -->
						<div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>
						
	                    <!-- Formulaire d'inscription -->
	                    <form action="/users/signup" method="post">
	                        <!-- Inclusion d'un token CSRF pour la sécurité de l'application -->
	                        <input type="hidden" name="_csrf" th:value="${_csrf.token}" />
	                        
	                        <!-- Champ pour le nom d'utilisateur -->
	                        <div class="mb-3">
	                            <label for="username" class="form-label">Nom d'utilisateur</label>
	                            <input type="text" maxlength="64" title="Le nom d'utilisateur doit contenir maximum 64 caractères." id="username" name="username" class="form-control" required>
	                        </div>

	                        <!-- Champ pour le mot de passe -->
	                        <div class="mb-3">
	                            <label for="password" class="form-label">Mot de passe</label>
	                            <input type="password" pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^a-zA-Z0-9]).{8,64}" title="Le mot de passe doit contenir entre 8 et 64 caractères, dont au moins une lettre minuscule, une majuscule, un chiffre et un caractère spécial." id="password" name="password" class="form-control" required>
	                        </div>

	                        <!-- Champ pour le numéro de téléphone -->
	                        <div class="mb-3">
	                            <label for="phoneNumber" class="form-label">Numéro de téléphone</label>
	                            <input type="tel" pattern="^0[1-9][0-9]{8}$" title="Le numéro ne doit contenir ni lettres ni caractères spéciaux." id="phoneNumber" name="phoneNumber" class="form-control">
	                        </div>

	                        <!-- Champ pour l'adresse e-mail -->
	                        <div class="mb-3">
	                            <label for="email" class="form-label">Adresse e-mail</label>
	                            <input type="email"  title="Veuillez entrer une adresse email valide." id="email" name="email" class="form-control">
	                        </div>

	                        <!-- Champ pour le numéro de rue -->
	                        <div class="mb-3">
	                            <label for="number" class="form-label">Numéro de la rue</label>
	                            <input type="text" maxlength="5" title="Le numéro doit contenir maximum 5 caractères." id="number" name="number" class="form-control" required>
	                        </div>

	                        <!-- Champ pour le nom de la rue -->
	                        <div class="mb-3">
	                            <label for="street" class="form-label">Nom de la rue</label>
	                            <input type="text" maxlength="128" title="La rue doit contenir maximum 128 caractères." id="street" name="street" class="form-control" required>
	                        </div>

	                        <!-- Champ pour le code de la ville -->
	                        <div class="mb-3">
	                            <label for="cityCode" class="form-label">Code de la ville</label>
	                            <input type="text" maxlength="10" title="Le code postal doit contenir maximum 10 caractères." id="cityCode" name="cityCode" class="form-control" required>
	                        </div>

	                        <!-- Champ pour le nom de la ville -->
	                        <div class="mb-3">
	                            <label for="cityName" class="form-label">Nom de la ville</label>
	                            <input type="text" maxlength="64" title="La ville doit contenir maximum 64 caractères." id="cityName" name="cityName" class="form-control" required>
	                        </div>

	                        <!-- Sélecteur de pays avec une liste dynamique alimentée par un backend -->
	                        <div class="mb-3">
	                            <label for="countryName" class="form-label">Pays</label>
	                            <select id="countryName" title="Veuillez sélectionner un pays." name="countryName" class="form-control" required>
	                                <!-- Liste des pays générée dynamiquement côté serveur -->
	                                <option th:each="country : ${countries}" th:value="${country.countryName}" th:text="${country.countryName}"></option>
	                            </select>
	                        </div>
							
							<!-- Case à cocher pour accepter les CGU -->
							<div class="mb-3 form-check">
							  <input type="checkbox" class="form-check-input" id="acceptTerms" name="acceptTerms" required>
							  <label class="form-check-label" for="acceptTerms">
							    J’accepte les <a href="/cgu" target="_blank" rel="noopener">Conditions Générales d’Utilisation</a>
							  </label>
							</div>

	                        <!-- Bouton d'envoi du formulaire -->
	                        <div class="d-flex justify-content-end">
	                            <button type="submit" class="btn btn-success">S'inscrire</button>
	                        </div>
	                    </form>

	                    <!-- Lien pour se connecter si l'utilisateur a déjà un compte -->
	                    <div class="mt-3">
	                        <a href="/users/login">Déjà un compte? Connectez-vous ici</a>
	                    </div>
	                </div>
	            </div>
	        </div>
	    </div>
	</div>

	</body>
</html>
