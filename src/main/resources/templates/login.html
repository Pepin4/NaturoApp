<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:hx="http://www.w3.org/1999/xhtml" lang="fr"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:cms="http://www.ytx.com/cms">
      
<head>
	  <!-- 
		 _                 _       
		| |               (_)      
		| |     ___   __ _ _ _ __  
		| |    / _ \ / _` | | '_ \ 
		| |___| (_) | (_| | | | | |
		|______\___/ \__, |_|_| |_|
		              __/ |        
		             |___/         
                     
	  -->
    <meta charset="UTF-8">
    <title>Connexion</title>
	
	<!-- Lien vers le favicon du site -->
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon.png">

	<!-- Lien vers les polices Google Fonts utilisées sur le site -->
	<link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">

	<!-- Inclusion du kit Font Awesome pour les icônes -->
	<script src="https://kit.fontawesome.com/a076d05399.js"></script>

	<!-- Lien vers le fichier CSS de Bootstrap pour la mise en page responsive et les composants -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">

	<!-- Lien vers le bundle JavaScript de Bootstrap, qui inclut Popper.js pour les composants interactifs -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

	<!-- Lien vers le fichier CSS personnalisé du projet -->
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>
<body class="bg-light"> <!-- Application d'un fond clair pour le body avec la classe bg-light de Bootstrap -->
    
    <div class="container text-center"> <!-- Conteneur centré pour la page -->
        <div class="contenu-page">
            <!-- Image de logo placé en haut à gauche avec un style en ligne (à éviter de préférence dans le CSS) -->
            <img src="/avocat.png" style="height: 100px; width: 100px; position: absolute; top: 20px; left: 10px; margin-right: 15px;" class="fit-picture" />
            <!-- Titre principal -->
            <h1 style="margin-top: 100px;">NaturoApp : Gestion de patient</h1>
        </div> 
    </div>

    <!-- Section de connexion -->
    <div class="container mt-5">
        <div class="row justify-content-center"> <!-- Utilisation de Bootstrap pour centrer la colonne de connexion -->
            <div class="col-md-6"> <!-- La colonne est de taille moyenne sur les écrans plus grands -->
    
                <div class="card shadow-lg"> <!-- Card avec ombre pour un effet 3D -->
                    <div class="card-header bg-primary text-white text-center"> <!-- Entête de la carte avec fond bleu -->
                        <h4>Connexion à NaturoApp</h4>
                    </div>
                    <div class="card-body"> <!-- Corps de la carte -->
    
                        <!-- Message de succès après inscription -->
                        <div th:if="${signupSuccess}" class="alert alert-success" role="alert">
                            Compte créé avec succès ! Vous pouvez maintenant vous connecter.
                        </div>
    
                        <!-- Message après déconnexion -->
                        <div th:if="${logoutSuccess}" class="alert alert-info" role="alert">
                            Vous êtes maintenant déconnecté.
                        </div>
    
                        <!-- Erreur d'authentification -->
                        <div th:if="${param.error}" class="alert alert-danger" role="alert">
                            Identifiant ou mot de passe invalide.
                        </div>
    
                        <!-- Formulaire de connexion avec action pour envoyer les données -->
                        <form th:action="@{/users/login}" method="post">
                            <!-- Champ pour le nom d'utilisateur -->
                            <div class="mb-3">
                                <label for="username" class="form-label">Nom d'utilisateur</label>
                                <input type="text" id="username" name="username" class="form-control" required autofocus>
                            </div>
    
                            <!-- Champ pour le mot de passe -->
                            <div class="mb-3">
                                <label for="password" class="form-label">Mot de passe</label>
                                <input type="password" id="password" name="password" class="form-control" required>
                            </div>
    
                            <!-- Boutons de soumission et création de compte avec un alignement flexible -->
                            <div class="d-flex justify-content-between">
                                <button type="submit" class="btn btn-success">Connexion</button>
                                <a href="/users/signup" class="btn btn-outline-primary">Créer un compte</a>
                            </div>
                        </form>
    
                        <!-- Message d'erreur de connexion (donnée redondante, déjà présent dans la balise 'alert') -->
                        <div th:if="${param.error}">
                            <p style="color:red;">Nom d'utilisateur ou mot de passe incorrect.</p>
                        </div>
    
                    </div>
                </div>
    
            </div>
        </div>
    </div>

</body>

</html>
